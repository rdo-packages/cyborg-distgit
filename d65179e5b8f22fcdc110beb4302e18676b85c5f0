{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "bdbeea21_7898878f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 128
      },
      "writtenOn": "2022-10-25T09:34:38Z",
      "side": 1,
      "message": "Most (not all) services build and ship documentation in a -doc subpackage. If you are interested in adding it, you can check with_doc in:\n\nhttps://github.com/rdo-infra/example-distgit/blob/rpm-master/openstack-example.spec#L113-L116",
      "revId": "d65179e5b8f22fcdc110beb4302e18676b85c5f0",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b1f18d54_2fd9d18c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 600
      },
      "writtenOn": "2022-10-25T09:50:20Z",
      "side": 1,
      "message": "yep i took that out of the initally version while i was workign on my build env",
      "parentUuid": "bdbeea21_7898878f",
      "revId": "d65179e5b8f22fcdc110beb4302e18676b85c5f0",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d67a46c9_14e33ded",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 600
      },
      "writtenOn": "2022-10-25T09:50:20Z",
      "side": 1,
      "message": "i can certenly adress most of the feedback in the inital version but would prefer to defer\nbreaking it into sub packages to follow up commits.",
      "revId": "d65179e5b8f22fcdc110beb4302e18676b85c5f0",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ee2f080d_9201324e",
        "filename": "openstack-cyborg.spec",
        "patchSetId": 3
      },
      "lineNbr": 16,
      "author": {
        "id": 128
      },
      "writtenOn": "2022-10-25T09:34:38Z",
      "side": 1,
      "message": "Please, add the gpg validation for tarballs using opendev gpg. See:\n\nhttps://github.com/rdo-infra/example-distgit/blob/rpm-master/openstack-example.spec#L26-L30\nhttps://github.com/rdo-infra/example-distgit/blob/rpm-master/openstack-example.spec#L26-L30",
      "revId": "d65179e5b8f22fcdc110beb4302e18676b85c5f0",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d8c0bc1d_eae07148",
        "filename": "openstack-cyborg.spec",
        "patchSetId": 3
      },
      "lineNbr": 16,
      "author": {
        "id": 600
      },
      "writtenOn": "2022-10-25T09:50:20Z",
      "side": 1,
      "message": "yep also removed that intially but i can defnitly add it back",
      "parentUuid": "ee2f080d_9201324e",
      "revId": "d65179e5b8f22fcdc110beb4302e18676b85c5f0",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "27e23220_ce4bbbe6",
        "filename": "openstack-cyborg.spec",
        "patchSetId": 3
      },
      "lineNbr": 163,
      "author": {
        "id": 128
      },
      "writtenOn": "2022-10-25T09:34:38Z",
      "side": 1,
      "message": "Shouldn\u0027t we build and ship a default config cyborg.conf using oslo-config-generator?\n\nhttps://github.com/rdo-infra/example-distgit/blob/rpm-master/openstack-example.spec#L26-L30",
      "revId": "d65179e5b8f22fcdc110beb4302e18676b85c5f0",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "213a9431_9c196b12",
        "filename": "openstack-cyborg.spec",
        "patchSetId": 3
      },
      "lineNbr": 163,
      "author": {
        "id": 600
      },
      "writtenOn": "2022-10-25T09:50:20Z",
      "side": 1,
      "message": "we should generate a sample but not provide a cyborg.conf\nwe shoudl provide a cyborg.conf.sample that enduses can mv and uncomment relevent parts.\n\nyou will have to provide db and rabbitmq info in the config to have this work so we cant actully provide a workign config automatically. we currently also dont want ot can any of the upstream defaults via the rpm packaging so all the options in the sample will be commented out.",
      "parentUuid": "27e23220_ce4bbbe6",
      "revId": "d65179e5b8f22fcdc110beb4302e18676b85c5f0",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "646297a0_7fd1988a",
        "filename": "openstack-cyborg.spec",
        "patchSetId": 3
      },
      "lineNbr": 163,
      "author": {
        "id": 128
      },
      "writtenOn": "2022-10-25T10:03:46Z",
      "side": 1,
      "message": "Current policy in most services is to provide a commented file as generated by oslo-config-generate in the final location /etc/\u003cservice\u003e/\u003cservice\u003e.conf with %config(noreplace) even if it\u0027s not expected to be a working one. IMO, that\u0027s helpful for operators as provide the full list of sections and parameters and the location where services expect it.",
      "parentUuid": "213a9431_9c196b12",
      "revId": "d65179e5b8f22fcdc110beb4302e18676b85c5f0",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c0f4a9ae_53370ad8",
        "filename": "openstack-cyborg.spec",
        "patchSetId": 3
      },
      "lineNbr": 163,
      "author": {
        "id": 600
      },
      "writtenOn": "2022-10-25T10:55:19Z",
      "side": 1,
      "message": "sure i can do that. generally from an upstream project perspective we recomend only including the sections you modify but if they are commented its basically the same effect. we move to config in code a long time ago and when we did that we asked packages to not ship non default policy but if tis commented as it will be with oslo config geneartor it acts as good documentation for the operator.",
      "parentUuid": "646297a0_7fd1988a",
      "revId": "d65179e5b8f22fcdc110beb4302e18676b85c5f0",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b5a9b2e6_6a95db88",
        "filename": "openstack-cyborg.spec",
        "patchSetId": 3
      },
      "lineNbr": 180,
      "author": {
        "id": 128
      },
      "writtenOn": "2022-10-25T09:34:38Z",
      "side": 1,
      "message": "May we run unit tests in %check?",
      "range": {
        "startLine": 180,
        "startChar": 0,
        "endLine": 180,
        "endChar": 1
      },
      "revId": "d65179e5b8f22fcdc110beb4302e18676b85c5f0",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "aa746c89_632206f2",
        "filename": "openstack-cyborg.spec",
        "patchSetId": 3
      },
      "lineNbr": 180,
      "author": {
        "id": 600
      },
      "writtenOn": "2022-10-25T09:50:20Z",
      "side": 1,
      "message": "yes thats on my to do list. im planning on refining this in later commits rather then getting the intial patch perfect.\nthat said im fine with adding the test back",
      "parentUuid": "b5a9b2e6_6a95db88",
      "range": {
        "startLine": 180,
        "startChar": 0,
        "endLine": 180,
        "endChar": 1
      },
      "revId": "d65179e5b8f22fcdc110beb4302e18676b85c5f0",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7439ad86_9974a5a0",
        "filename": "openstack-cyborg.spec",
        "patchSetId": 3
      },
      "lineNbr": 180,
      "author": {
        "id": 128
      },
      "writtenOn": "2022-10-25T10:03:46Z",
      "side": 1,
      "message": "ack, no problem from my side on adding it later if requires any additional work.",
      "parentUuid": "aa746c89_632206f2",
      "range": {
        "startLine": 180,
        "startChar": 0,
        "endLine": 180,
        "endChar": 1
      },
      "revId": "d65179e5b8f22fcdc110beb4302e18676b85c5f0",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0003ff43_893ec82b",
        "filename": "openstack-cyborg.spec",
        "patchSetId": 3
      },
      "lineNbr": 180,
      "author": {
        "id": 600
      },
      "writtenOn": "2022-10-25T10:55:19Z",
      "side": 1,
      "message": "im kind of expecting this to more or less just work when i copy the\nnova/octaiva snipit so it would be nice ot includ this in the inital version.",
      "parentUuid": "7439ad86_9974a5a0",
      "range": {
        "startLine": 180,
        "startChar": 0,
        "endLine": 180,
        "endChar": 1
      },
      "revId": "d65179e5b8f22fcdc110beb4302e18676b85c5f0",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "31365247_c9dd7e96",
        "filename": "openstack-cyborg.spec",
        "patchSetId": 3
      },
      "lineNbr": 187,
      "author": {
        "id": 128
      },
      "writtenOn": "2022-10-25T09:34:38Z",
      "side": 1,
      "message": "You plan to create systemd unit files for each service and create per-service subpackage?. That\u0027s the current standard for openstack services packages. There is a reason to skip it for cyborg?",
      "range": {
        "startLine": 187,
        "startChar": 0,
        "endLine": 187,
        "endChar": 1
      },
      "revId": "d65179e5b8f22fcdc110beb4302e18676b85c5f0",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1e688942_2ac13e14",
        "filename": "openstack-cyborg.spec",
        "patchSetId": 3
      },
      "lineNbr": 187,
      "author": {
        "id": 600
      },
      "writtenOn": "2022-10-25T09:50:20Z",
      "side": 1,
      "message": "yes os i plan to split this up in two ways\n\none subpackage per binary for cyborg that is api, conductor, compute and a dbsync command addtionally we want to split the comptue drivers each out into there own sub packages so when we contairise this downstream we can inclodue only the plugsins we want to productise.\n\ni had planned to do both in followups.\n\nthe service files will not be used for tripleo ectra but might be useful for anyone using the rpm directly.",
      "parentUuid": "31365247_c9dd7e96",
      "range": {
        "startLine": 187,
        "startChar": 0,
        "endLine": 187,
        "endChar": 1
      },
      "revId": "d65179e5b8f22fcdc110beb4302e18676b85c5f0",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2dd4822c_6ce0f939",
        "filename": "openstack-cyborg.spec",
        "patchSetId": 3
      },
      "lineNbr": 187,
      "author": {
        "id": 128
      },
      "writtenOn": "2022-10-25T10:03:46Z",
      "side": 1,
      "message": "Yes, it\u0027d be good to add the services files as not all the RDO users use tripleo for deployment.\n\nWRT split, lgtm, my only concern is if anyone start using packages before splitting it as the move to subpackages will required action (change package names when installing services). I guess you will be the main user of it, so probably will be fine :).",
      "parentUuid": "1e688942_2ac13e14",
      "range": {
        "startLine": 187,
        "startChar": 0,
        "endLine": 187,
        "endChar": 1
      },
      "revId": "d65179e5b8f22fcdc110beb4302e18676b85c5f0",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "72a4d487_a53ab8eb",
        "filename": "openstack-cyborg.spec",
        "patchSetId": 3
      },
      "lineNbr": 187,
      "author": {
        "id": 600
      },
      "writtenOn": "2022-10-25T10:55:19Z",
      "side": 1,
      "message": "right so currently we have python3-cyborg python3-cyborg-tests  thos provide the python module and test respctivly and openstack-cyborg-common which provides all console scripts/binaries and configs ectra.\n\nmy plan is to add openstack-cyborg-api which will depend on common and will provide\nthe systemd service file. im not really sure its worth moving the binary scripts in this case but i was considrign doing that too. they are generated by pbr adn are pretty tiny.\n\nthe drivers on the ohter hadn are still prtty small but we would like to package those seperatly. so each subfolder in https://github.com/openstack/cyborg/tree/master/cyborg/accelerator/drivers woudl be moved into a sub package.\nby default only the fake driver would be included in common.\n\nat least that was my current thinking.\n\nso things would be moving form common to the sub packages in the followup yes i think this woudl be ok.\n\nit might be nice to  optionaly have an  openstack-cyborg meta package pulled in everything but its proably not required since outside of a test envionment your not going to run teh compute agent in a contoller.\n\ni am hoping to get this split done in the next week or two and certenly before there isan actual offcial release of these RPMs\n\ndoes RDO forllow any of the upstream release milestones or timelines?\ni had kind of assumed untile we do an actual release say cuttign the stable/2023.1 branch it woudl be oke ot do these changes in a follow up but if not i can do it in this patch.",
      "parentUuid": "2dd4822c_6ce0f939",
      "range": {
        "startLine": 187,
        "startChar": 0,
        "endLine": 187,
        "endChar": 1
      },
      "revId": "d65179e5b8f22fcdc110beb4302e18676b85c5f0",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ff7d96da_ba9ac639",
        "filename": "openstack-cyborg.spec",
        "patchSetId": 3
      },
      "lineNbr": 187,
      "author": {
        "id": 128
      },
      "writtenOn": "2022-10-25T14:29:58Z",
      "side": 1,
      "message": "WRT the split. I understand that leaving the executable in the common subpackage makes it simpler for you to manage in containers, right?. If there is a reason to leave binaries in the -common, no problem from my side. The main reason to include them in subpackages instead of in common is consistency with most packages, but it\u0027s something we can manage.\n\nAbout drivers, your plan LGTM. As per past experiences, it\u0027d be good to provide a metapackage openstack-cyborg-drivers (or -all or drivers-all, what yor prefer) which depends on all drivers? (also drivers should depend on common).\n\nAbout timelines, there is no pressure at this point from RDO side. Just in case you plan to have CI coverage in tripleo, puppet or some other place, it\u0027ll take some time.",
      "parentUuid": "72a4d487_a53ab8eb",
      "range": {
        "startLine": 187,
        "startChar": 0,
        "endLine": 187,
        "endChar": 1
      },
      "revId": "d65179e5b8f22fcdc110beb4302e18676b85c5f0",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "36355a39_d8574946",
        "filename": "openstack-cyborg.spec",
        "patchSetId": 3
      },
      "lineNbr": 189,
      "author": {
        "id": 128
      },
      "writtenOn": "2022-10-25T09:34:38Z",
      "side": 1,
      "message": "See my question about cyborg.conf",
      "range": {
        "startLine": 189,
        "startChar": 0,
        "endLine": 189,
        "endChar": 1
      },
      "revId": "d65179e5b8f22fcdc110beb4302e18676b85c5f0",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8c396623_230f1a23",
        "filename": "openstack-cyborg.spec",
        "patchSetId": 3
      },
      "lineNbr": 189,
      "author": {
        "id": 600
      },
      "writtenOn": "2022-10-25T10:55:19Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "36355a39_d8574946",
      "range": {
        "startLine": 189,
        "startChar": 0,
        "endLine": 189,
        "endChar": 1
      },
      "revId": "d65179e5b8f22fcdc110beb4302e18676b85c5f0",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    }
  ]
}